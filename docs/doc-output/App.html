<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <!--
      The Re-organize in terms of top-level narrative comments and pinpoint embedded comments.
 parameters will be replaced with the
      document title extracted from the <h1> element or
      file name, if there is no <h1> heading
    -->
    <title>Re-organize in terms of top-level narrative comments and pinpoint embedded comments.
</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link type="text/css" rel="stylesheet" href="../doc-assets/css/style.css" />
 
  </head>
  <body>
    <div class="container-fluid">
      <div class="row" style="margin-top:30px">
        <div class="col-md-1"></div>
        <div class="col-md-10" id="main">
          <h1><a name="Re-organize-in-terms-of-top-level-narrative-comments-and-pinpoint-embedded-comments" class="anchor" href="#Re-organize-in-terms-of-top-level-narrative-comments-and-pinpoint-embedded-comments">Re-organize in terms of top-level narrative comments and pinpoint embedded comments.</a></h1>
<h2><a name="Using-Json-with-Fable-3-0" class="anchor" href="#Using-Json-with-Fable-3-0">Using Json with Fable 3.0</a></h2>
<ul>
<li>Use the nuget package Thoth.Json when working with JSON in Fable 2.0 and 3.0.</li>
<li>Thoth.Json is an Elm-inspired encoder and decoder for JSON</li>
</ul>
<p>This is because JSON serialization has been removed in Fable 2.0 and 3.0
<a href="https://fable.io/blog/Introducing-2-0-beta.html">source</a></p>
<blockquote>
<p>JSON serialization: This was the most controversial thing in the discussions about Fable 2. JSON serialization was included in Fable.Core to make it easier for users to share types with the server, but now there are good alternatives and it was time to remove it. DON'T BE SCARED! Thanks to Maxime and Zaid, you still have auto-serializers to make the transition much easier, check Thoth.Json and Fable.SimpleJson.</p>
</blockquote>
<p><code>dotnet add package Thoth.Json --version 3.2.0</code></p>
<p><a href="https://mangelmaxime.github.io/Thoth/json/v3.html">Documentation for Thoth.Json v3.0</a></p>
<ul>
<li>
Use this example:
Random user (Thoth)
<a href="https://fable.io/repl/">source</a>
</li>
</ul>
<ul>
<li>
Note:
With Fable 3, we now need v3 of these packages:
<a href="https://github.com/fable-compiler/fable-promise">Fable.Promise</a>
<a href="https://github.com/fable-compiler/fable-fetch">Fable.Fetch</a>
</li>
</ul>
<p>Not needed here - WHY?
Fable.Browser.<em></em>*</p>
<ul>
<li>
Shortcuts
shift-cmd-p : Command Palette
ctl-shift-@ : Terminal
</li>
</ul>
<h3><a name="Sample-JSON" class="anchor" href="#Sample-JSON">Sample JSON</a></h3>
<ul>
<li>Endpoint at <a href="https://randomuser.me/api/"><a href="https://randomuser.me/api/">https://randomuser.me/api/</a></a></li>
</ul>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
</pre></td>
<td class="snippet"><pre class="fssnip"><code lang="json">{
    "gender": "female",
    "name": {
        "title": "ms",
        "first": "abbie",
        "last": "gonzalez"
    },
    "location": {
        "street": "4402 grange road",
        "city": "dundee",
        "state": "cumbria",
        "postcode": "SV9 0PD",
        "coordinates": {
            "latitude": "6.2975",
            "longitude": "91.4699"
        },
        "timezone": {
            "offset": "-3:30",
            "description": "Newfoundland"
        }
    },
    "email": "abbie.gonzalez@example.com",
    "login": {
        "uuid": "05f57343-4e83-43e4-b1cd-d2aa05cd3e28",
        "username": "ticklishswan265",
        "password": "samurai",
        "salt": "6Ion4qQf",
        "md5": "4ffdd0278abfe217b2acaaa737da6a8f",
        "sha1": "01e24d7c09640da98082038f79b9052102ec75ed",
        "sha256": "a8ba80f651d164247b7615821c18d8a7e93328adfbb858d964c7263e49491907"
    },
    "dob": {
        "date": "1977-11-18T13:56:08Z",
        "age": 41
    },
    "registered": {
        "date": "2012-09-22T02:24:52Z",
        "age": 6
    },
    "phone": "013873 60082",
    "cell": "0768-795-719",
    "id": {
        "name": "NINO",
        "value": "NS 96 38 74 V"
    },
    "picture": {
        "large": "https://randomuser.me/api/portraits/women/1.jpg",
        "medium": "https://randomuser.me/api/portraits/med/women/1.jpg",
        "thumbnail": "https://randomuser.me/api/portraits/thumb/women/1.jpg"
    },
    "nat": "GB"
}
</code></pre></td></tr></table>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">module</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="id">Thoth</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="m">RandomUser</span>

<span class="k">open</span> <span onmouseout="hideTip(event, 'fs3', 3)" onmouseover="showTip(event, 'fs3', 3)" class="id">System</span>

<span class="k">open</span> <span class="id">Fable</span><span class="pn">.</span><span class="id">Core</span>
<span class="k">open</span> <span class="id">Fable</span><span class="pn">.</span><span class="id">React</span>
<span class="k">open</span> <span class="id">Fable</span><span class="pn">.</span><span class="id">React</span><span class="pn">.</span><span class="id">Props</span>
</code></pre></td>
</tr>
</table>
<h4><a name="Opening-the-below-will-cause-an-error-WHY" class="anchor" href="#Opening-the-below-will-cause-an-error-WHY">Opening the below will cause an error -- WHY?</a></h4>
<p>open Fable.Promise
open Fable.Fetch</p>
<p>Possibly because the package name is Fable.Promise, but the actual modul name is <code>Promise</code>.
Likewise, the package name is Fable.Fetch, but the actual module name is `Fetch'.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">open</span> <span class="id">Fetch</span>

<span class="c">// don&#39;t need Fable.Browser.*** here??</span>
<span class="k">open</span> <span class="id">Elmish</span>
<span class="k">open</span> <span class="id">Elmish</span><span class="pn">.</span><span class="id">React</span>

<span class="k">open</span> <span class="id">Thoth</span><span class="pn">.</span><span class="id">Json</span>

<span class="c">//open Fable.Core.JsInterop</span>
<span class="c">//open Browser.Types</span>
<span class="c">//open Browser</span>
</code></pre></td>
</tr>
</table>
<h3><a name="MODEL" class="anchor" href="#MODEL">MODEL</a></h3>
<h4><a name="Type-Organization-for-JSON" class="anchor" href="#Type-Organization-for-JSON">Type Organization for JSON</a></h4>
<p>It looks like we are including a static member Decoder
that verifies each type.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="rt">Gender</span> <span class="o">=</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs4', 4)" onmouseover="showTip(event, 'fs4', 4)" class="uc">Male</span> 
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs5', 5)" onmouseover="showTip(event, 'fs5', 5)" class="uc">Female</span>

    <span class="k">static</span> <span class="k">member</span> <span class="prop">Decoder</span> <span class="o">=</span>
        <span class="id">Decode</span><span class="pn">.</span><span class="id">string</span>
        <span class="o">|&gt;</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">andThen</span> <span class="pn">(</span>
            <span class="k">function</span>
            <span class="pn">|</span> <span class="s">&quot;male&quot;</span> <span class="k">-&gt;</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">succeed</span> <span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="id">Male</span>
            <span class="pn">|</span> <span class="s">&quot;female&quot;</span> <span class="k">-&gt;</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">succeed</span> <span onmouseout="hideTip(event, 'fs5', 7)" onmouseover="showTip(event, 'fs5', 7)" class="id">Female</span>
            <span class="pn">|</span> <span class="id">invalid</span> <span class="k">-&gt;</span> <span class="s">&quot;`&quot;</span> <span class="o">+</span> <span class="id">invalid</span> <span class="o">+</span> <span class="s">&quot;` isn&#39;t a valid value for Gender&quot;</span>
                        <span class="o">|&gt;</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">fail</span>
        <span class="pn">)</span>

<span class="k">type</span> <span class="rt">User</span> <span class="o">=</span>
    <span class="pn">{</span>
        <span onmouseout="hideTip(event, 'fs6', 8)" onmouseover="showTip(event, 'fs6', 8)" class="id">Gender</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs6', 9)" onmouseover="showTip(event, 'fs6', 9)" class="rt">Gender</span>
        <span onmouseout="hideTip(event, 'fs7', 10)" onmouseover="showTip(event, 'fs7', 10)" class="id">FullName</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs8', 11)" onmouseover="showTip(event, 'fs8', 11)" class="rt">string</span>
        <span onmouseout="hideTip(event, 'fs9', 12)" onmouseover="showTip(event, 'fs9', 12)" class="id">Email</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs8', 13)" onmouseover="showTip(event, 'fs8', 13)" class="rt">string</span>
        <span onmouseout="hideTip(event, 'fs10', 14)" onmouseover="showTip(event, 'fs10', 14)" class="id">CellPhone</span>  <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs8', 15)" onmouseover="showTip(event, 'fs8', 15)" class="rt">string</span>
        <span onmouseout="hideTip(event, 'fs11', 16)" onmouseover="showTip(event, 'fs11', 16)" class="id">OfficePhone</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs8', 17)" onmouseover="showTip(event, 'fs8', 17)" class="rt">string</span>
        <span onmouseout="hideTip(event, 'fs12', 18)" onmouseover="showTip(event, 'fs12', 18)" class="id">Age</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs13', 19)" onmouseover="showTip(event, 'fs13', 19)" class="vt">int</span>
        <span onmouseout="hideTip(event, 'fs14', 20)" onmouseover="showTip(event, 'fs14', 20)" class="id">Birthday</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs15', 21)" onmouseover="showTip(event, 'fs15', 21)" class="vt">DateTime</span>
        <span onmouseout="hideTip(event, 'fs16', 22)" onmouseover="showTip(event, 'fs16', 22)" class="id">Picture</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs8', 23)" onmouseover="showTip(event, 'fs8', 23)" class="rt">string</span>
    <span class="pn">}</span>
</code></pre></td>
</tr>
</table>
<p>1 When using Thoth.Json, you are not forced to do a 1 to 1 mapping
between the JSON format and your types. For ex, in the next decoder
we will access deep information and store it at the "root" of our type.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">    <span class="k">static</span> <span class="k">member</span> <span class="prop">Decoder</span> <span class="o">=</span>
</code></pre></td>
</tr>
</table>
<p>2 When using Thoth.Json, you are not forced to do a 1 to 1 mapping
between the JSON format and your types. For ex, in the next decoder
we will access deep information and store it at the "root" of our type.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">        <span class="id">Decode</span><span class="pn">.</span><span class="id">object</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">get</span> <span class="k">-&gt;</span>
</code></pre></td>
</tr>
</table>
<p>In the object decoder we can execute any F# code.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">            <span class="k">let</span> <span class="id">firstname</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">At</span> <span class="pn">[</span> <span class="s">&quot;name&quot;</span><span class="pn">;</span> <span class="s">&quot;first&quot;</span> <span class="pn">]</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">string</span>
            <span class="k">let</span> <span class="id">lastname</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">At</span> <span class="pn">[</span> <span class="s">&quot;name&quot;</span><span class="pn">;</span> <span class="s">&quot;last&quot;</span> <span class="pn">]</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">string</span>
</code></pre></td>
</tr>
</table>
<p><code>dob</code> is a JSON field returned from the server</p>
<p>Note: comments do not work inside of a F# record</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">            <span class="pn">{</span>
                <span onmouseout="hideTip(event, 'fs17', 24)" onmouseover="showTip(event, 'fs17', 24)" class="id">Gender</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">Field</span> <span class="s">&quot;gender&quot;</span> <span onmouseout="hideTip(event, 'fs17', 25)" onmouseover="showTip(event, 'fs17', 25)" class="id">Gender</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs18', 26)" onmouseover="showTip(event, 'fs18', 26)" class="id">Decoder</span>
                <span class="id">FullName</span> <span class="o">=</span> <span class="id">firstname</span> <span class="o">+</span> <span class="s">&quot; &quot;</span> <span class="o">+</span> <span class="id">lastname</span>
                <span class="id">Email</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">Field</span> <span class="s">&quot;email&quot;</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">string</span>
                <span class="id">CellPhone</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">Field</span> <span class="s">&quot;cell&quot;</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">string</span>
                <span class="id">OfficePhone</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">Field</span> <span class="s">&quot;phone&quot;</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">string</span>
                <span class="c">// INSIDE A RECORD `dob` is a JSON field returned from the server</span>
                <span class="id">Age</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">At</span> <span class="pn">[</span> <span class="s">&quot;dob&quot;</span><span class="pn">;</span> <span class="s">&quot;age&quot;</span> <span class="pn">]</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">int</span>
                <span class="id">Birthday</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">At</span> <span class="pn">[</span> <span class="s">&quot;dob&quot;</span><span class="pn">;</span> <span class="s">&quot;date&quot;</span> <span class="pn">]</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">datetime</span>
                <span class="id">Picture</span> <span class="o">=</span> <span class="id">get</span><span class="pn">.</span><span class="id">Required</span><span class="pn">.</span><span class="id">At</span> <span class="pn">[</span> <span class="s">&quot;picture&quot;</span><span class="pn">;</span> <span class="s">&quot;large&quot;</span> <span class="pn">]</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">string</span>
            <span class="pn">}</span>
        <span class="pn">)</span>


<span class="k">type</span> <span onmouseout="hideTip(event, 'fs19', 27)" onmouseover="showTip(event, 'fs19', 27)" class="rt">Model</span> <span class="o">=</span>
    <span class="c">(** If user is None, then it&#39;s the initial loading state *)</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs20', 28)" onmouseover="showTip(event, 'fs20', 28)" class="uc">Loading</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs21', 29)" onmouseover="showTip(event, 'fs21', 29)" class="rt">User</span> <span onmouseout="hideTip(event, 'fs22', 30)" onmouseover="showTip(event, 'fs22', 30)" class="rt">option</span>
    <span class="c">(** Loaded state *)</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs23', 31)" onmouseover="showTip(event, 'fs23', 31)" class="uc">Loaded</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs21', 32)" onmouseover="showTip(event, 'fs21', 32)" class="rt">User</span>
    <span class="c">(** If the last request results in an error *)</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 33)" onmouseover="showTip(event, 'fs24', 33)" class="uc">Errored</span>


<span class="k">type</span> <span onmouseout="hideTip(event, 'fs25', 34)" onmouseover="showTip(event, 'fs25', 34)" class="rt">Msg</span> <span class="o">=</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs26', 35)" onmouseover="showTip(event, 'fs26', 35)" class="uc">FetchRandomUser</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs27', 36)" onmouseover="showTip(event, 'fs27', 36)" class="uc">FetchResponse</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs28', 37)" onmouseover="showTip(event, 'fs28', 37)" class="vt">Result</span><span class="pn">&lt;</span><span onmouseout="hideTip(event, 'fs21', 38)" onmouseover="showTip(event, 'fs21', 38)" class="rt">User</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs8', 39)" onmouseover="showTip(event, 'fs8', 39)" class="rt">string</span><span class="pn">&gt;</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs29', 40)" onmouseover="showTip(event, 'fs29', 40)" class="uc">FetchError</span> <span class="k">of</span> <span onmouseout="hideTip(event, 'fs30', 41)" onmouseover="showTip(event, 'fs30', 41)" class="rt">exn</span>
</code></pre></td>
</tr>
</table>
<p>At first, we have no user to display</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 42)" onmouseover="showTip(event, 'fs31', 42)" class="fn">init</span> <span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs20', 43)" onmouseover="showTip(event, 'fs20', 43)" class="uc">Loading</span> <span onmouseout="hideTip(event, 'fs32', 44)" onmouseover="showTip(event, 'fs32', 44)" class="uc">None</span><span class="pn">,</span> <span class="id">Cmd</span><span class="pn">.</span><span class="id">ofMsg</span> <span onmouseout="hideTip(event, 'fs26', 45)" onmouseover="showTip(event, 'fs26', 45)" class="id">FetchRandomUser</span>
</code></pre></td>
</tr>
</table>
<h3><a name="UPDATE" class="anchor" href="#UPDATE">UPDATE</a></h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs33', 46)" onmouseover="showTip(event, 'fs33', 46)" class="fn">getRandomUser</span> <span class="pn">(</span><span class="pn">)</span> <span class="o">=</span> <span class="id">promise</span> <span class="pn">{</span>
    <span class="c">(** Add a delay of 300ms so the button animation is more visible *)</span>
    <span class="k">do!</span> <span class="id">Promise</span><span class="pn">.</span><span class="id">sleep</span> <span class="n">300</span>
    <span class="k">let!</span> <span class="id">response</span> <span class="o">=</span> <span class="id">Fetch</span><span class="pn">.</span><span class="id">fetch</span> <span class="s">&quot;https://randomuser.me/api/&quot;</span> <span class="pn">[</span><span class="pn">]</span>
    <span class="k">let!</span> <span class="id">responseText</span> <span class="o">=</span> <span class="id">response</span><span class="pn">.</span><span class="id">text</span><span class="pn">(</span><span class="pn">)</span>
    <span class="k">let</span> <span class="id">resultDecoder</span> <span class="o">=</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">field</span> <span class="s">&quot;results&quot;</span> <span class="pn">(</span><span class="id">Decode</span><span class="pn">.</span><span class="id">index</span> <span class="n">0</span> <span onmouseout="hideTip(event, 'fs21', 47)" onmouseover="showTip(event, 'fs21', 47)" class="id">User</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs34', 48)" onmouseover="showTip(event, 'fs34', 48)" class="id">Decoder</span><span class="pn">)</span>
    <span class="k">return</span> <span class="id">Decode</span><span class="pn">.</span><span class="id">fromString</span> <span class="id">resultDecoder</span> <span class="id">responseText</span>
<span class="pn">}</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs35', 49)" onmouseover="showTip(event, 'fs35', 49)" class="fn">update</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs36', 50)" onmouseover="showTip(event, 'fs36', 50)" class="id">msg</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs25', 51)" onmouseover="showTip(event, 'fs25', 51)" class="rt">Msg</span><span class="pn">)</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs37', 52)" onmouseover="showTip(event, 'fs37', 52)" class="id">model</span><span class="pn">:</span><span onmouseout="hideTip(event, 'fs19', 53)" onmouseover="showTip(event, 'fs19', 53)" class="rt">Model</span><span class="pn">)</span> <span class="o">=</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs36', 54)" onmouseover="showTip(event, 'fs36', 54)" class="id">msg</span> <span class="k">with</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs26', 55)" onmouseover="showTip(event, 'fs26', 55)" class="uc">FetchRandomUser</span> <span class="k">-&gt;</span>
        <span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 56)" onmouseover="showTip(event, 'fs38', 56)" class="id">newModel</span> <span class="o">=</span>
            <span class="k">match</span> <span onmouseout="hideTip(event, 'fs37', 57)" onmouseover="showTip(event, 'fs37', 57)" class="id">model</span> <span class="k">with</span>
            <span class="c">(** If we have a current user, we keep it while waiting for the new user *)</span>
            <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs23', 58)" onmouseover="showTip(event, 'fs23', 58)" class="uc">Loaded</span> <span onmouseout="hideTip(event, 'fs39', 59)" onmouseover="showTip(event, 'fs39', 59)" class="id">user</span> <span class="k">-&gt;</span>
                <span onmouseout="hideTip(event, 'fs20', 60)" onmouseover="showTip(event, 'fs20', 60)" class="uc">Loading</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 61)" onmouseover="showTip(event, 'fs40', 61)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs39', 62)" onmouseover="showTip(event, 'fs39', 62)" class="id">user</span><span class="pn">)</span>
            <span class="pn">|</span> <span class="id">_</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs20', 63)" onmouseover="showTip(event, 'fs20', 63)" class="uc">Loading</span> <span onmouseout="hideTip(event, 'fs32', 64)" onmouseover="showTip(event, 'fs32', 64)" class="uc">None</span>
        
        <span onmouseout="hideTip(event, 'fs38', 65)" onmouseover="showTip(event, 'fs38', 65)" class="id">newModel</span><span class="pn">,</span> <span class="id">Cmd</span><span class="pn">.</span><span class="id">OfPromise</span><span class="pn">.</span><span class="id">either</span> <span onmouseout="hideTip(event, 'fs33', 66)" onmouseover="showTip(event, 'fs33', 66)" class="id">getRandomUser</span> <span class="pn">(</span><span class="pn">)</span> <span onmouseout="hideTip(event, 'fs27', 67)" onmouseover="showTip(event, 'fs27', 67)" class="id">FetchResponse</span> <span onmouseout="hideTip(event, 'fs29', 68)" onmouseover="showTip(event, 'fs29', 68)" class="id">FetchError</span>

    <span class="c">(** We got a response and decoding succeeded *)</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs27', 69)" onmouseover="showTip(event, 'fs27', 69)" class="uc">FetchResponse</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs41', 70)" onmouseover="showTip(event, 'fs41', 70)" class="uc">Ok</span> <span onmouseout="hideTip(event, 'fs39', 71)" onmouseover="showTip(event, 'fs39', 71)" class="id">user</span><span class="pn">)</span> <span class="k">-&gt;</span>
        <span onmouseout="hideTip(event, 'fs23', 72)" onmouseover="showTip(event, 'fs23', 72)" class="uc">Loaded</span> <span onmouseout="hideTip(event, 'fs39', 73)" onmouseover="showTip(event, 'fs39', 73)" class="id">user</span><span class="pn">,</span> <span class="id">Cmd</span><span class="pn">.</span><span class="id">none</span>
    
    <span class="c">(** We got a response and decoding failed *)</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs27', 74)" onmouseover="showTip(event, 'fs27', 74)" class="uc">FetchResponse</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs42', 75)" onmouseover="showTip(event, 'fs42', 75)" class="uc">Error</span> <span onmouseout="hideTip(event, 'fs43', 76)" onmouseover="showTip(event, 'fs43', 76)" class="id">msg</span><span class="pn">)</span> <span class="k">-&gt;</span>
        <span class="id">JS</span><span class="pn">.</span><span class="id">console</span><span class="pn">.</span><span class="id">error</span> <span onmouseout="hideTip(event, 'fs43', 77)" onmouseover="showTip(event, 'fs43', 77)" class="id">msg</span>
        <span onmouseout="hideTip(event, 'fs24', 78)" onmouseover="showTip(event, 'fs24', 78)" class="uc">Errored</span><span class="pn">,</span> <span class="id">Cmd</span><span class="pn">.</span><span class="id">none</span>
    
    <span class="c">(** An error occurred, when fetching the new user *)</span>
    <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs29', 79)" onmouseover="showTip(event, 'fs29', 79)" class="uc">FetchError</span> <span onmouseout="hideTip(event, 'fs44', 80)" onmouseover="showTip(event, 'fs44', 80)" class="id">error</span> <span class="k">-&gt;</span>
        <span class="id">JS</span><span class="pn">.</span><span class="id">console</span><span class="pn">.</span><span class="id">error</span> <span onmouseout="hideTip(event, 'fs44', 81)" onmouseover="showTip(event, 'fs44', 81)" class="id">error</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs45', 82)" onmouseover="showTip(event, 'fs45', 82)" class="id">Message</span>
        <span onmouseout="hideTip(event, 'fs24', 83)" onmouseover="showTip(event, 'fs24', 83)" class="uc">Errored</span><span class="pn">,</span> <span class="id">Cmd</span><span class="pn">.</span><span class="id">none</span>
</code></pre></td>
</tr>
</table>
<h3><a name="VIEW-rendered-with-React" class="anchor" href="#VIEW-rendered-with-React">VIEW  - rendered with React</a></h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
<span class="l">18: </span>
<span class="l">19: </span>
<span class="l">20: </span>
<span class="l">21: </span>
<span class="l">22: </span>
<span class="l">23: </span>
<span class="l">24: </span>
<span class="l">25: </span>
<span class="l">26: </span>
<span class="l">27: </span>
<span class="l">28: </span>
<span class="l">29: </span>
<span class="l">30: </span>
<span class="l">31: </span>
<span class="l">32: </span>
<span class="l">33: </span>
<span class="l">34: </span>
<span class="l">35: </span>
<span class="l">36: </span>
<span class="l">37: </span>
<span class="l">38: </span>
<span class="l">39: </span>
<span class="l">40: </span>
<span class="l">41: </span>
<span class="l">42: </span>
<span class="l">43: </span>
<span class="l">44: </span>
<span class="l">45: </span>
<span class="l">46: </span>
<span class="l">47: </span>
<span class="l">48: </span>
<span class="l">49: </span>
<span class="l">50: </span>
<span class="l">51: </span>
<span class="l">52: </span>
<span class="l">53: </span>
<span class="l">54: </span>
<span class="l">55: </span>
<span class="l">56: </span>
<span class="l">57: </span>
<span class="l">58: </span>
<span class="l">59: </span>
<span class="l">60: </span>
<span class="l">61: </span>
<span class="l">62: </span>
<span class="l">63: </span>
<span class="l">64: </span>
<span class="l">65: </span>
<span class="l">66: </span>
<span class="l">67: </span>
<span class="l">68: </span>
<span class="l">69: </span>
<span class="l">70: </span>
<span class="l">71: </span>
<span class="l">72: </span>
<span class="l">73: </span>
<span class="l">74: </span>
<span class="l">75: </span>
<span class="l">76: </span>
<span class="l">77: </span>
<span class="l">78: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">inline</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs46', 84)" onmouseover="showTip(event, 'fs46', 84)" class="fn">renderInfo</span> <span onmouseout="hideTip(event, 'fs47', 85)" onmouseover="showTip(event, 'fs47', 85)" class="id">iconClass</span> <span onmouseout="hideTip(event, 'fs48', 86)" onmouseover="showTip(event, 'fs48', 86)" class="id">value</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs47', 87)" onmouseover="showTip(event, 'fs47', 87)" class="id">iconClass</span> <span class="o">=</span> <span class="s">&quot;fa &quot;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs47', 88)" onmouseover="showTip(event, 'fs47', 88)" class="id">iconClass</span>
    <span class="id">div</span> <span class="pn">[</span> <span class="pn">]</span>
        <span class="pn">[</span> <span class="id">span</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 89)" onmouseover="showTip(event, 'fs49', 89)" class="id">Class</span> <span class="s">&quot;icon&quot;</span> <span class="pn">]</span>
            <span class="pn">[</span> <span class="id">i</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 90)" onmouseover="showTip(event, 'fs49', 90)" class="id">Class</span> <span onmouseout="hideTip(event, 'fs47', 91)" onmouseover="showTip(event, 'fs47', 91)" class="id">iconClass</span> <span class="pn">]</span>
                <span class="pn">[</span> <span class="pn">]</span> <span class="pn">]</span>
          <span class="id">str</span> <span class="s">&quot; &quot;</span>
          <span class="id">str</span> <span onmouseout="hideTip(event, 'fs48', 92)" onmouseover="showTip(event, 'fs48', 92)" class="id">value</span> <span class="pn">]</span>

<span class="k">let</span> <span class="k">inline</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs50', 93)" onmouseover="showTip(event, 'fs50', 93)" class="fn">viewMessage</span> <span onmouseout="hideTip(event, 'fs51', 94)" onmouseover="showTip(event, 'fs51', 94)" class="id">color</span> <span onmouseout="hideTip(event, 'fs52', 95)" onmouseover="showTip(event, 'fs52', 95)" class="id">msg</span> <span class="o">=</span>
    <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 96)" onmouseover="showTip(event, 'fs49', 96)" class="id">Class</span> <span class="pn">(</span><span class="s">&quot;message &quot;</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs51', 97)" onmouseover="showTip(event, 'fs51', 97)" class="id">color</span><span class="pn">)</span> <span class="pn">]</span>
        <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 98)" onmouseover="showTip(event, 'fs49', 98)" class="id">Class</span> <span class="s">&quot;message-body&quot;</span> <span class="pn">]</span>
            <span class="pn">[</span> <span class="id">str</span> <span onmouseout="hideTip(event, 'fs52', 99)" onmouseover="showTip(event, 'fs52', 99)" class="id">msg</span> <span class="pn">]</span> <span class="pn">]</span>

<span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs53', 100)" onmouseover="showTip(event, 'fs53', 100)" class="id">viewLoading</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs50', 101)" onmouseover="showTip(event, 'fs50', 101)" class="fn">viewMessage</span> <span class="s">&quot;is-info&quot;</span> <span class="s">&quot;Waiting the server response...&quot;</span>

<span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs54', 102)" onmouseover="showTip(event, 'fs54', 102)" class="id">viewErrored</span> <span class="o">=</span>
    <span onmouseout="hideTip(event, 'fs50', 103)" onmouseover="showTip(event, 'fs50', 103)" class="fn">viewMessage</span> <span class="s">&quot;is-danger&quot;</span> <span class="s">&quot;An error occured, please check the console for more information.&quot;</span>

<span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs55', 104)" onmouseover="showTip(event, 'fs55', 104)" class="fn">viewUser</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs39', 105)" onmouseover="showTip(event, 'fs39', 105)" class="id">user</span> <span class="pn">:</span> <span onmouseout="hideTip(event, 'fs21', 106)" onmouseover="showTip(event, 'fs21', 106)" class="rt">User</span><span class="pn">)</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs56', 107)" onmouseover="showTip(event, 'fs56', 107)" class="id">birthday</span> <span class="o">=</span>
        <span onmouseout="hideTip(event, 'fs39', 108)" onmouseover="showTip(event, 'fs39', 108)" class="fn">user</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs14', 109)" onmouseover="showTip(event, 'fs14', 109)" class="id">Birthday</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs57', 110)" onmouseover="showTip(event, 'fs57', 110)" class="id">ToShortDateString</span><span class="pn">(</span><span class="pn">)</span>

    <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 111)" onmouseover="showTip(event, 'fs49', 111)" class="id">Class</span> <span class="s">&quot;card is-avatar&quot;</span> <span class="pn">]</span>
        <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 112)" onmouseover="showTip(event, 'fs49', 112)" class="id">Class</span> <span class="s">&quot;card-image&quot;</span> <span class="pn">]</span>
            <span class="pn">[</span> <span class="id">figure</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 113)" onmouseover="showTip(event, 'fs49', 113)" class="id">Class</span> <span class="s">&quot;image is-128x128&quot;</span> <span class="pn">]</span>
                <span class="pn">[</span> <span class="id">img</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 114)" onmouseover="showTip(event, 'fs49', 114)" class="id">Class</span> <span class="s">&quot;is-rounded&quot;</span>
                        <span class="id">Src</span> <span onmouseout="hideTip(event, 'fs39', 115)" onmouseover="showTip(event, 'fs39', 115)" class="id">user</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs16', 116)" onmouseover="showTip(event, 'fs16', 116)" class="id">Picture</span> <span class="pn">]</span> <span class="pn">]</span> <span class="pn">]</span>
          <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 117)" onmouseover="showTip(event, 'fs49', 117)" class="id">Class</span> <span class="s">&quot;card-content&quot;</span> <span class="pn">]</span>
            <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 118)" onmouseover="showTip(event, 'fs49', 118)" class="id">Class</span> <span class="s">&quot;content has-text-centered&quot;</span> <span class="pn">]</span>
                <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 119)" onmouseover="showTip(event, 'fs49', 119)" class="id">Class</span> <span class="s">&quot;has-text-weight-semibold is-size-5&quot;</span> <span class="pn">]</span>
                    <span class="pn">[</span> <span class="id">str</span> <span onmouseout="hideTip(event, 'fs39', 120)" onmouseover="showTip(event, 'fs39', 120)" class="id">user</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs7', 121)" onmouseover="showTip(event, 'fs7', 121)" class="id">FullName</span> <span class="pn">]</span>
                  <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 122)" onmouseover="showTip(event, 'fs49', 122)" class="id">Class</span> <span class="s">&quot;is-italic&quot;</span> <span class="pn">]</span>
                    <span class="pn">[</span> <span class="id">str</span> <span onmouseout="hideTip(event, 'fs56', 123)" onmouseover="showTip(event, 'fs56', 123)" class="id">birthday</span> <span class="pn">]</span> <span class="pn">]</span>
              <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 124)" onmouseover="showTip(event, 'fs49', 124)" class="id">Class</span> <span class="s">&quot;content&quot;</span> <span class="pn">]</span>
                <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs46', 125)" onmouseover="showTip(event, 'fs46', 125)" class="id">renderInfo</span> <span class="s">&quot;fa-phone&quot;</span> <span onmouseout="hideTip(event, 'fs39', 126)" onmouseover="showTip(event, 'fs39', 126)" class="id">user</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs10', 127)" onmouseover="showTip(event, 'fs10', 127)" class="id">CellPhone</span>
                  <span onmouseout="hideTip(event, 'fs46', 128)" onmouseover="showTip(event, 'fs46', 128)" class="id">renderInfo</span> <span class="s">&quot;fa-phone&quot;</span> <span onmouseout="hideTip(event, 'fs39', 129)" onmouseover="showTip(event, 'fs39', 129)" class="id">user</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs11', 130)" onmouseover="showTip(event, 'fs11', 130)" class="id">OfficePhone</span>
                  <span onmouseout="hideTip(event, 'fs46', 131)" onmouseover="showTip(event, 'fs46', 131)" class="id">renderInfo</span> <span class="s">&quot;fa-envelope&quot;</span> <span onmouseout="hideTip(event, 'fs39', 132)" onmouseover="showTip(event, 'fs39', 132)" class="id">user</span><span class="pn">.</span><span onmouseout="hideTip(event, 'fs9', 133)" onmouseover="showTip(event, 'fs9', 133)" class="id">Email</span> <span class="pn">]</span> <span class="pn">]</span> <span class="pn">]</span>

<span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs58', 134)" onmouseover="showTip(event, 'fs58', 134)" class="fn">viewGenerateButton</span> <span onmouseout="hideTip(event, 'fs59', 135)" onmouseover="showTip(event, 'fs59', 135)" class="id">isLoading</span> <span onmouseout="hideTip(event, 'fs60', 136)" onmouseover="showTip(event, 'fs60', 136)" class="id">dispatch</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs61', 137)" onmouseover="showTip(event, 'fs61', 137)" class="id">buttonClass</span> <span class="o">=</span>
        <span class="k">if</span> <span onmouseout="hideTip(event, 'fs59', 138)" onmouseover="showTip(event, 'fs59', 138)" class="id">isLoading</span> <span class="k">then</span>
            <span class="s">&quot; is-loading&quot;</span>
        <span class="k">else</span>
            <span class="s">&quot;&quot;</span>
        <span class="o">|&gt;</span> <span class="pn">(</span><span class="o">+</span><span class="pn">)</span> <span class="s">&quot;button is-primary &quot;</span>

    <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 139)" onmouseover="showTip(event, 'fs49', 139)" class="id">Class</span> <span class="s">&quot;has-text-centered&quot;</span> <span class="pn">]</span>
        <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 140)" onmouseover="showTip(event, 'fs49', 140)" class="id">Class</span> <span onmouseout="hideTip(event, 'fs61', 141)" onmouseover="showTip(event, 'fs61', 141)" class="id">buttonClass</span>
                <span class="id">OnClick</span> <span class="pn">(</span><span class="k">fun</span> <span class="id">_</span> <span class="k">-&gt;</span>
                    <span onmouseout="hideTip(event, 'fs60', 142)" onmouseover="showTip(event, 'fs60', 142)" class="id">dispatch</span> <span onmouseout="hideTip(event, 'fs26', 143)" onmouseover="showTip(event, 'fs26', 143)" class="id">FetchRandomUser</span>
                <span class="pn">)</span> <span class="pn">]</span>
            <span class="pn">[</span> <span class="id">str</span> <span class="s">&quot;Generate a new user&quot;</span> <span class="pn">]</span> <span class="pn">]</span>

<span class="k">let</span> <span class="k">private</span> <span onmouseout="hideTip(event, 'fs62', 144)" onmouseover="showTip(event, 'fs62', 144)" class="fn">center</span> <span onmouseout="hideTip(event, 'fs63', 145)" onmouseover="showTip(event, 'fs63', 145)" class="id">child</span> <span class="o">=</span>
    <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 146)" onmouseover="showTip(event, 'fs49', 146)" class="id">Class</span> <span class="s">&quot;columns is-mobile&quot;</span> <span class="pn">]</span>
        <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 147)" onmouseover="showTip(event, 'fs49', 147)" class="id">Class</span> <span class="s">&quot;column is-3&quot;</span> <span class="pn">]</span> <span class="pn">[</span> <span class="pn">]</span>
          <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 148)" onmouseover="showTip(event, 'fs49', 148)" class="id">Class</span> <span class="s">&quot;column&quot;</span> <span class="pn">]</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs63', 149)" onmouseover="showTip(event, 'fs63', 149)" class="id">child</span> <span class="pn">]</span>
          <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 150)" onmouseover="showTip(event, 'fs49', 150)" class="id">Class</span> <span class="s">&quot;column is-3&quot;</span> <span class="pn">]</span> <span class="pn">[</span> <span class="pn">]</span> <span class="pn">]</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs64', 151)" onmouseover="showTip(event, 'fs64', 151)" class="fn">view</span> <span onmouseout="hideTip(event, 'fs37', 152)" onmouseover="showTip(event, 'fs37', 152)" class="id">model</span> <span onmouseout="hideTip(event, 'fs60', 153)" onmouseover="showTip(event, 'fs60', 153)" class="id">dispatch</span> <span class="o">=</span>
    <span class="k">let</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs59', 154)" onmouseover="showTip(event, 'fs59', 154)" class="id">isLoading</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs65', 155)" onmouseover="showTip(event, 'fs65', 155)" class="id">content</span><span class="pn">)</span> <span class="o">=</span>
        <span class="k">match</span> <span onmouseout="hideTip(event, 'fs37', 156)" onmouseover="showTip(event, 'fs37', 156)" class="id">model</span> <span class="k">with</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs20', 157)" onmouseover="showTip(event, 'fs20', 157)" class="uc">Loading</span> <span onmouseout="hideTip(event, 'fs32', 158)" onmouseover="showTip(event, 'fs32', 158)" class="uc">None</span> <span class="k">-&gt;</span>
            <span class="k">true</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs53', 159)" onmouseover="showTip(event, 'fs53', 159)" class="id">viewLoading</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs20', 160)" onmouseover="showTip(event, 'fs20', 160)" class="uc">Loading</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs40', 161)" onmouseover="showTip(event, 'fs40', 161)" class="uc">Some</span> <span onmouseout="hideTip(event, 'fs39', 162)" onmouseover="showTip(event, 'fs39', 162)" class="id">user</span><span class="pn">)</span> <span class="k">-&gt;</span>
            <span class="k">true</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs55', 163)" onmouseover="showTip(event, 'fs55', 163)" class="fn">viewUser</span> <span onmouseout="hideTip(event, 'fs39', 164)" onmouseover="showTip(event, 'fs39', 164)" class="id">user</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs23', 165)" onmouseover="showTip(event, 'fs23', 165)" class="uc">Loaded</span> <span onmouseout="hideTip(event, 'fs39', 166)" onmouseover="showTip(event, 'fs39', 166)" class="id">user</span> <span class="k">-&gt;</span>
            <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs55', 167)" onmouseover="showTip(event, 'fs55', 167)" class="fn">viewUser</span> <span onmouseout="hideTip(event, 'fs39', 168)" onmouseover="showTip(event, 'fs39', 168)" class="id">user</span>
        <span class="pn">|</span> <span onmouseout="hideTip(event, 'fs24', 169)" onmouseover="showTip(event, 'fs24', 169)" class="uc">Errored</span> <span class="k">-&gt;</span>
            <span class="k">false</span><span class="pn">,</span> <span onmouseout="hideTip(event, 'fs54', 170)" onmouseover="showTip(event, 'fs54', 170)" class="id">viewErrored</span>

    <span class="id">section</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 171)" onmouseover="showTip(event, 'fs49', 171)" class="id">Class</span> <span class="s">&quot;hero is-fullheight&quot;</span> <span class="pn">]</span>
        <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 172)" onmouseover="showTip(event, 'fs49', 172)" class="id">Class</span> <span class="s">&quot;hero-body&quot;</span> <span class="pn">]</span>
            <span class="pn">[</span> <span class="id">div</span> <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs49', 173)" onmouseover="showTip(event, 'fs49', 173)" class="id">Class</span> <span class="s">&quot;container&quot;</span> <span class="pn">]</span>
                <span class="pn">[</span> <span onmouseout="hideTip(event, 'fs62', 174)" onmouseover="showTip(event, 'fs62', 174)" class="id">center</span> <span class="pn">(</span><span onmouseout="hideTip(event, 'fs58', 175)" onmouseover="showTip(event, 'fs58', 175)" class="id">viewGenerateButton</span> <span onmouseout="hideTip(event, 'fs59', 176)" onmouseover="showTip(event, 'fs59', 176)" class="id">isLoading</span> <span onmouseout="hideTip(event, 'fs60', 177)" onmouseover="showTip(event, 'fs60', 177)" class="id">dispatch</span><span class="pn">)</span>
                  <span onmouseout="hideTip(event, 'fs62', 178)" onmouseover="showTip(event, 'fs62', 178)" class="id">center</span> <span onmouseout="hideTip(event, 'fs65', 179)" onmouseover="showTip(event, 'fs65', 179)" class="id">content</span> <span class="pn">]</span> <span class="pn">]</span> <span class="pn">]</span>
</code></pre></td>
</tr>
</table>
<h3><a name="App" class="anchor" href="#App">App</a></h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="id">Program</span><span class="pn">.</span><span class="id">mkProgram</span> <span onmouseout="hideTip(event, 'fs31', 180)" onmouseover="showTip(event, 'fs31', 180)" class="id">init</span> <span onmouseout="hideTip(event, 'fs35', 181)" onmouseover="showTip(event, 'fs35', 181)" class="id">update</span> <span onmouseout="hideTip(event, 'fs64', 182)" onmouseover="showTip(event, 'fs64', 182)" class="id">view</span>
<span class="o">|&gt;</span> <span class="id">Program</span><span class="pn">.</span><span class="id">withReactSynchronous</span> <span class="s">&quot;elmish-app&quot;</span>
<span class="c">//|&gt; Program.withReactBatched &quot;elmish-app&quot;</span>
<span class="o">|&gt;</span> <span class="id">Program</span><span class="pn">.</span><span class="id">run</span>
</code></pre></td>
</tr>
</table>

        </div>
        <div class="col-md-1"></div>
      </div>
    </div>
  </body>

  <footer class="blog-footer">
    <p> Your name | Learning F#</p>
    <p><a href="#">Back to top</a></p>
  </footer>

</html>
